# Claude Code Token Optimization Environment Variables

# Disable non-essential model calls to save tokens
export DISABLE_NON_ESSENTIAL_MODEL_CALLS=1

# Use Haiku for background/simple tasks
export ANTHROPIC_SMALL_FAST_MODEL=claude-3-haiku-20240307

# Limit output tokens per request
export CLAUDE_CODE_MAX_OUTPUT_TOKENS=4000

# Enable telemetry for token monitoring
export CLAUDE_CODE_ENABLE_TELEMETRY=1

# Configure OpenTelemetry metrics
export OTEL_METRICS_EXPORTER=otlp

# Limit bash output to reduce context bloat
export BASH_MAX_OUTPUT_LENGTH=10000

# Set reasonable bash timeout
export BASH_DEFAULT_TIMEOUT_MS=60000

# Set MCP tool timeout
export MCP_TOOL_TIMEOUT=30000

# Instructions:
# Source this file in your shell profile:
# echo "source $(pwd)/.claude/token_optimize.env" >> ~/.zshrc
# Or for bash: echo "source $(pwd)/.claude/token_optimize.env" >> ~/.bashrc